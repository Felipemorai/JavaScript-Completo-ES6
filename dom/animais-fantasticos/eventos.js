// addEventListener
// Adiciona uma funÃ§Ã£o ao elemento, esta chamada de callback, que serÃ¡ ativada assim que certo evento ocorrer neste elemento.
const img = document.querySelector('img');

// elemento.addEventListener(event, callback, options)
img.addEventListener('click', function() {
    console.log('clicou');
})
// O terceiro parÃ¢metro Ã© opcional

// Callback
// Ã‰ uma boa prÃ¡tica separar a funÃ§Ã£o de callback do addEventListener, ou seja, declarar uma funÃ§Ã£o ao invÃ©s de passar diretamente uma funÃ§Ã£o anÃ´nima
const title = document.querySelector('.titulo');

function callback() {
    console.log('Clicou');
}

title.addEventListener('click', callback); // ðŸš€
title.addEventListener('click', callback()); // underfined
title.addEventListener('click', function() {
    console.log('Clicou');
});
title.addEventListener('click', () => {
    console.log('Clicou');
});

// Event
// O primeiro parÃ¢metro do callback Ã© referente ao evento que ocorreu.
function callback2(event) {
    console.log(event);
}

img.addEventListener('click', callback2);
// Geralmente utilizam e como nome do parÃ¢metro

// Propriedades do Event
const animaisLista = document.querySelector('.animais-lista');

function executarCallback(event) {
    const currentTarget = event.currentTarget; // this
    const target = event.target; // onde o clique ocorreu
    const type = event.type; // tipo de evento
    const path = event.path;
    console.log(currentTarget, target, type, path);
}

animaisLista.addEventListener('click', executarCallback);

// event.preventDefault()
// Previne o comportamento padrÃ£o do evento no browser. No caso de um link externo, por exemplo, irÃ¡ prevenir que o link seja ativado.
const linkExterno = document.querySelector('a[href^="https"]');

function clickNoLink(event) {
    event.preventDefault();
    console.log(event.currentTarget.href);
}

linkExterno.addEventListener('click', clickNoLink);

// this
// A palavra chave this Ã© uma palavra especial do javascript, que pode fazer referÃªncia a diferentes objetos dependendo do contexto. No caso de eventos, ela farÃ¡ referÃªncia ao elemento em que addEventListener foi adicionado.
const animaisTitle =document.querySelector('.animais-descricao h2');

function callbackThis(event) {
    console.log(this); // retorna a imagem
    console.log(this.getAttribute('src'));
}

animaisTitle.addEventListener('click', callbackThis);
// Geralmente igual ao event.currentTarget

// Diferentes Eventos
// Existem diversos eventos como click, scroll, resize, keydown, keyup, mouseenter e mais. Eventos podem ser adicionados a diferentes elementos, como o window e document tambÃ©m.
const h1 = document.querySelector('h1');

function callbackEvent(event) {
    console.log(event.type, event);
}

h1.addEventListener('click', callbackEvent);
h1.addEventListener('mouseenter', callbackEvent);
window.addEventListener('scroll', callbackEvent);
window.addEventListener('resize', callbackEvent);
window.addEventListener('keydown', callbackEvent);

// Keyboard
// VocÃª pode adicionar atalhos para facilitar a navegaÃ§Ã£o no seu site, atravÃ©s de eventos do keyboard
function handleKeyboard(event) {
    if(event.key === 'a') {
        document.body.classList.toggle('azul');
    } else 
    if(event.key === 'v') {
        document.body.classList.toggle('vermelho');
    }
}

window.addEventListener('keydown', handleKeyboard);

// forEach e Eventos
// O mÃ©todo addEventListenerÃ© Ã© adicionado Ã  um Ãºnico elemento, entÃ£o Ã© necessÃ¡rio um loop entre elementos de uma lista, para adicionarmos Ã  cada um deles.
const imgs = document.querySelectorAll('img');

function imgSrc(event) {
    const src = event.currentTarget.getAttribute('scr');
    console.log(src);
}

imgs.forEach((img) => {
    img.addEventListener('click', imgSrc);
})